<!DOCTYPE html>
<html ng-app="tabManager">
<head>
	<meta charset="UTF-8">
	<title>Tab Manager</title>
	<link rel="stylesheet" href="http://s3.richardkeller.net/cdn/reset.css">
	<link href='http://fonts.googleapis.com/css?family=Open+Sans:400,300' rel='stylesheet' type='text/css'>
	<link rel="stylesheet" href="fa/css/font-awesome.min.css">
	<link rel="stylesheet" href="css/main.css">
</head>
<body>
	<div id="main" ng-controller="MainCtrl">

		
		<header>
			<h1 id="ext-title">{{project_title}}</h1>
			<!-- <span>Current Folder Index: {{current_folder}}</span> -->
			<a ng-if="folders.length > 0" href="#" class="button right" ng-click="addFolder()">
				<i class="fa fa-plus"></i>&nbsp;&nbsp;
				Add Folder
			</a>
			<div class="clearfix"></div>
		</header>

		<div ng-show="newTitle" id="selectTitle">
			<input type="text" id="newFolderName" class="title" placeholder="Type a title">
			<br>
			<a href="#save-title" 	ng-click="saveNewFolder()" class="button">Save</a>
			<a href="#cancel-title" ng-click="cancelNewFolder()" class="button">Cancel</a>
		</div>

		<!-- {{current_tabs}} -->

		<a ng-if="folders.length === 0" ng-hide="newTitle" href="#" class="button lg" ng-click="addFolder()">Add Folder</a>
		

		<div ng-show="showFolderList" id="folder-list">
			<div class="folder" ng-repeat="folder in folders track by $index" data-index="{{$index}}">
				<div class="folder-header">
					<input type="text" class="folder-list-input" ng-model="folder.name" ng-keyup="syncFolders()">
					
					<nav class="folder-nav">
						
						<span class="badge" title="Tab Count">{{folder.tabs.length}}</span>
						<a href="#" ng-click="activateTabs( $index )" title="Open Tabs"><i class="fa fa-eye"></i></a>
						<a href="#" ng-click="deactiveTabs( $index )" title="Close Tabs"><i class="fa fa-eye-slash"></i></a>
						<a href="#addTabs" ng-click="addTabUi($index)" title="Add Tabs"><i class="fa fa-plus"></i></a>

						<!-- <span class="fa fa-plus" title="view tabs in folder"></span> -->
						<a href="#" title="Delete Folder and all tabs" ng-click="removeFolder($index)">
							<i class="fa fa-close"></i>
						</a>
					</nav>					
					<!-- <span class="fa fa-plus" title="Add Tab to Folder"></span>				 -->
				</div>
				<div class="folder-body">
					<a href="{{tab.url}}" ng-repeat="tab in folder.tabs">{{tab.name}}</a>
				</div>
 			</div>
		</div>
		<div id="addTab" ng-show="addTabs">
			
			<div ng-repeat="tab in current_tabs">
				<div style="width: 10px; display:inline-block;">
					<img ng-if="tab.favIconUrl" src="{{tab.favIconUrl}}" style="width: 10px;">
				</div>
				<input type="checkbox" ng-click="toggleTab(tab)">
				<a class="tab" href="{{tab.url}}" title="{{tab.title}}">{{tab.title | limitTo: 45 }}</a>
			</div>

			<a href="#" ng-click="saveSelectedTabs()" 	class="button">Save</a>
			<a href="#" ng-click="dontSaveTabs()" 		class="button">Cancel</a>

		</div>
		

		<!-- <pre><h1>current folder index: {{current_folder}}</h1></pre> -->
		<!-- <pre>{{folders}}</pre> -->




	</div>
<script src="js/jquery/jquery.min.js"></script>
<script src="js/angular/angular.min.js"></script>
<script src="js/main.js"></script>
</body>
</html>